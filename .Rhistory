{
install.packages(hydroGOF)
require(hydroGOF)
}
data("PointOutValidation_sim0007_1D_HiResAlp")
data("observations_B2")
data("lookup_tbl_observation")
str(time(B2_h))
str(time(B2_h)- (60*60*24))
B2_h$mday[1]
B2_h$mday
names(unclass(as.POSIXlt("2009-10-04")))
names(unclass(time(B2_h)))
time(B2_h)$mday
time(B2_h$mday) - 1
time(B2_h)$mday - 1
time(B2_h)$mday[1]
time(B2_h)$mday[1] - 1
time(B2_h)[1]
data("PointOutValidation_sim0007_1D_HiResAlp")
#data("PointOutValidation_sim0011_1D_HiResAlp")
data("observations_B2")
data("lookup_tbl_observation")
time(B2_h)[1]
time(B2_h)$mday[1]
test <- time(B2_h)[1]
test
test$mday -1
test$mday <- test$mday -2
test
names(B2_d)
names(var_out)
if(!require(AnalyseGeotop))
{
if(!require(devtools))
{
install.packages(devtools)
require(devtools)
}
install_github("AnalyseGeotop", "JBrenn")
require(AnalyseGeotop)
}
if(!require(dygraphs))
{
install.packages(dygraphs)
require(dygraphs)
}
if(!require(hydroGOF))
{
install.packages(hydroGOF)
require(hydroGOF)
}
data("PointOutValidation_sim0007_1D_HiResAlp")
#data("PointOutValidation_sim0011_1D_HiResAlp")
data("observations_B2")
data("lookup_tbl_observation")
time(B2_h)$mday <- time(B2_h)$mday - 1
time(B2_d) <- time(B2_d) - 1
obs <- list(hour=B2_h, day=B2_d)
names(B2_d)
names(var_out)
remove.packages("AnalyseGeotop", lib="~/R/x86_64-pc-linux-gnu-library/3.2")
View(lookup_tbl_observation)
?renderDygraph
?zoo
?cumsum
str(B2_d)
str(B2_d[,1])
plot(B2_d[,1])
plot(B2_d[,1:2])
plot(cumsum(B2_d[,1:2]))
plot(B2_d[,1:2])
as.Date("01-01-2015")
?na.approx.default
as.Date("30-04-2011",format="%d-%m-%Y")
names(unclass(time(B2_h)))
observation<- obs$day[,"air_temperature"]
simulation <- var_out[["air_temperature"]]
simulation <- aggregate(simulation, as.Date(time(simulation)), mean, na.rm=T)
data <- merge(observation, simulation)
gofs <- gof(sim = data$simulation, obs=data$observation, na.rm = T)
gofs <- as.data.frame(gofs)
names(gofs) <- "YEAR"
gofs$GOF <- dimnames(gofs)[[1]]
str(gofs)
data_djf <-  data[time(data)$mon==12 | time(data)$mon==1 |time(data)$mon==2,]
time(data)$mo
time(data)$mon
time(data)
mon <- as.numeric(format(time(data), "%m"))
mon
data_djf <-  data[mon==12 | mon==1 | mon==2,]
gofs$DJF <-  c(gof(sim = data_djf$simulation, obs=data_djf$observation, na.rm = T))
str(gofs)
data_mam <-  data[mon==3 | on==4 | mon==5,]
gofs$MAM <-  c(gof(sim = data_mam$simulation, obs=data_mam$observation, na.rm = T))
data_jja <-  data[mon==6 | mon==7 | mon==8,]
gofs$JJA <-  c(gof(sim = data_jja$simulation, obs=data_jja$observation, na.rm = T))
data_son <-  data[mon==9 | mon==10 | mon==11,]
gofs$SON <-  c(gof(sim = data_son$simulation, obs=data_son$observation, na.rm = T))
data_mam <-  data[mon==3 | mon==4 | mon==5,]
gofs$MAM <-  c(gof(sim = data_mam$simulation, obs=data_mam$observation, na.rm = T))
str(gofs)
data <- merge(observation, simulation)
gofs <- gof(sim = data$simulation, obs=data$observation, na.rm = T)
gofs <- as.data.frame(gofs)
names(gofs) <- "YEAR"
gofs$GOF <- dimnames(gofs)[[1]]
mon <- as.numeric(format(time(data), "%m"))
data_djf <-  data[mon==12 | mon==1 | mon==2,]
gofs$DJF <-  c(gof(sim = data_djf$simulation, obs=data_djf$observation, na.rm = T))
data_mam <-  data[mon==3 | mon==4 | mon==5,]
gofs$MAM <-  c(gof(sim = data_mam$simulation, obs=data_mam$observation, na.rm = T))
data_jja <-  data[mon==6 | mon==7 | mon==8,]
gofs$JJA <-  c(gof(sim = data_jja$simulation, obs=data_jja$observation, na.rm = T))
data_son <-  data[mon==9 | mon==10 | mon==11,]
gofs$SON <-  c(gof(sim = data_son$simulation, obs=data_son$observation, na.rm = T))
gof <- gof[,c(2,3,4,5,6,1)]
gofs <- gofs[,c(2,3,4,5,6,1)]
str(gofs)
***
library(dygraphs)
?dygraph
lungDeaths <- cbind(mdeaths, fdeaths)
dygraph(lungDeaths)
str(lungDeaths)
library("DataBaseAlpEnvEURAC", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.2")
?dB_getGEOtop
library("geotopbricks", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.2")
remove.packages("AnalyseGeotop", lib="~/R/x86_64-pc-linux-gnu-library/3.2")
library("AnalyseGeotop", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.2")
GEOtop_updateLookUpTbl()
load("~/GitHub/AnalyseGEOtop/data/lookup_tbl_observation.RData")
View(lookup_tbl_observation)
remove.packages("AnalyseGeotop", lib="~/R/x86_64-pc-linux-gnu-library/3.2")
remove.packages("AnalyseGeotop", lib="~/R/x86_64-pc-linux-gnu-library/3.2")
wpath <- "/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006"
load(file.path(wpath, "obs", "observation.RData"))
names(observation) <- c("hour", "day")
obs <- observation
data(lookup_tbl_observation)
if (any(names(obs)=="hour") & any(names(obs)=="day")) Donly <- which(! dimnames(obs$day)[2][[1]] %in% dimnames(obs$hour)[2][[1]]) else Donly <- NULL
if (file.exists(file.path(wpath,"listpoints.txt")))
{
listpoints <- read.csv(file.path(wpath,"listpoints.txt"))
xpoints <- listpoints$xcoord
ypoints <- listpoints$ycoord
} else {
xpoints <- get.geotop.inpts.keyword.value("CoordinatePointX",wpath=wpath,numeric=T)
ypoints <- get.geotop.inpts.keyword.value("CoordinatePointY",wpath=wpath,numeric=T)
}
if (!is.null(Donly)) base <- obs$day else base <- obs$hour
df_names <- as.data.frame(dimnames(base)[2][[1]])
names(df_names) <- "name"
varPointIn <- merge(df_names, lookup_tbl_observation, by.x="name", by.y = "obs_var")
varPointIn_what_direct <- varPointIn$geotop_what[varPointIn$geotop_where=="PointOutputFile"]
varPointIn_name_direct <- varPointIn$name[varPointIn$geotop_where=="PointOutputFile"]
level <- 1:length(xpoints)
point_data <- get.geotop.inpts.keyword.value(keyword="PointOutputFile", wpath=wpath,
raster=FALSE,
data.frame=TRUE,
level=level,
date_field="Date12.DDMMYYYYhhmm.",
tz="Etc/GMT+1")
library(geotopbricks)
point_data <- get.geotop.inpts.keyword.value(keyword="PointOutputFile", wpath=wpath,
raster=FALSE,
data.frame=TRUE,
level=level,
date_field="Date12.DDMMYYYYhhmm.",
tz="Etc/GMT+1")
library(AnalyseGeotop)
var_out <- list()
for (i in 1:length(varPointIn_what_direct))
{
name <- as.character(varPointIn_name_direct)[i]
var <- as.character(varPointIn_what_direct)[i]
i_split <- strsplit(as.character(var),"%")
if (length(i_split[[1]])==1) {
var_out[[name]] <- point_data[,var]
} else {
var_out[[ i_split[[1]][1] ]] <- point_data[ ,i_split[[1]][1] ]
var_out[[ i_split[[1]][2] ]] <- point_data[ ,i_split[[1]][2] ]
var_out[[name]] <- point_data[ ,i_split[[1]][1] ] + point_data[ ,i_split[[1]][2] ]
}
}
i
name <- as.character(varPointIn_name_direct)[i]
var <- as.character(varPointIn_what_direct)[i]
i_split <- strsplit(as.character(var),"%")
name
vsr
var
i_split
varPointIn_what_direct
GEOtop_updateLookUpTbl()
load("~/GitHub/AnalyseGEOtop/data/lookup_tbl_observation.RData")
View(lookup_tbl_observation)
remove.packages("AnalyseGeotop", lib="~/R/x86_64-pc-linux-gnu-library/3.2")
load("/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006/obs/observation.RData")
names(observation$dataDay)
dimnames(observation$dataDay)
dimnames(observation$data30min)
dimnames(observation$data30min)[14] <- "net_downward_shortwave_flux"
dimnames(observation$data30min)[14]
dimnames(observation$data30min)[[2]][14]
dimnames(observation$data30min)[[2]][14]<-"net_downward_shortwave_flux"
dimnames(observation$data30min)[[2]][15]<-"net_downward_longwave_flux"
dimnames(observation$dataDay)[[2]][14]
dimnames(observation$dataDay)[[2]][15]
dimnames(observation$data30min)[[1]][15]<-"net_downward_longwave_flux"
dimnames(observation$dataDay)[[2]][15]<-"net_downward_longwave_flux"
dimnames(observation$dataDay)[[2]][14]<-"net_downward_shortwave_flux"
dimnames(observation$dataDay)[[2]][14]
dimnames(observation$dataDay)[[2]][15]
dimnames(observation$data30min)[[2]][14]
dimnames(observation$data30min)[[2]][15]
save(list = "observation", file = "/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006/obs/observation.RData")
load("/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006/obs/observation.RData")
dimnames(observation$dataDay)[[2]][15]
load("/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006/obs/observation.RData")
dimnames(observation$data30min)
plot(observation$data30min[,"net_downward_longwave_flux"])
library(zoo)
plot(observation$data30min[,"net_downward_longwave_flux"])
plot(observation$data30min[,"net_radiation"])
plot(observation$data30min[,"net_downward_longwave_flux"])
plot(observation$data30min[,"net_downward_shortwave_flux"])
plot(observation$data30min[,"net_radiation"])
plot(observation$data30min[,"net_radiation"]-observation$data30min[,"net_downward_shortwave_flux"])
plot(observation$data30min[,"surface_downwelling_shortwave_flux")
plot(observation$data30min[,"surface_downwelling_shortwave_flux"])
plot(observation$data30min[,"surface_upwelling_shortwave_flux"])
plot(observation$data30min[,"net_downward_shortwave_flux"])
plot(observation$data30min[,"surface_downwelling_shortwave_flux"]-observation$data30min[,"surface_upwelling_shortwave_flux"])
plot(observation$data30min[,"surface_downwelling_shortwave_flux"])
plot(observation$data30min[,"surface_upwelling_shortwave_flux"])
alb <- observation$data30min[,"surface_downwelling_shortwave_flux"]/observation$data30min[,"surface_upwelling_shortwave_flux"]
plot(alb)
plot(alb, ylim=c(0,1))
plot(alb, ylim=c(0,10))
plot(alb, ylim=c(0,100))
plot(alb, ylim=c(0,20))
wpath <- "/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006"
if (file.exists(file.path(wpath,"listpoints.txt")))
{
listpoints <- read.csv(file.path(wpath,"listpoints.txt"))
xpoints <- listpoints$xcoord
ypoints <- listpoints$ycoord
} else {
xpoints <- get.geotop.inpts.keyword.value("CoordinatePointX",wpath=wpath,numeric=T)
ypoints <- get.geotop.inpts.keyword.value("CoordinatePointY",wpath=wpath,numeric=T)
}
level <- 1:length(xpoints)
point_data <- get.geotop.inpts.keyword.value(keyword="PointOutputFile", wpath=wpath,
raster=FALSE,
data.frame=TRUE,
level=level,
date_field="Date12.DDMMYYYYhhmm.",
tz="Etc/GMT+1")
library(geotopbricks)
point_data <- get.geotop.inpts.keyword.value(keyword="PointOutputFile", wpath=wpath,
raster=FALSE,
data.frame=TRUE,
level=level,
date_field="Date12.DDMMYYYYhhmm.",
tz="Etc/GMT+1")
dimnames(point_data)
point_data[,"LWnet.W.m2."] <- point_data[,"LWnet.W.m2."] * (-1)
plot(point_data[,"LWnet.W.m2."])
remove.packages("AnalyseGeotop", lib="~/R/x86_64-pc-linux-gnu-library/3.2")
wpath <- "/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006"
library(geotopbricks)
if (file.exists(file.path(wpath,"listpoints.txt")))
{
listpoints <- read.csv(file.path(wpath,"listpoints.txt"))
xpoints <- listpoints$xcoord
ypoints <- listpoints$ycoord
} else {
xpoints <- get.geotop.inpts.keyword.value("CoordinatePointX",wpath=wpath,numeric=T)
ypoints <- get.geotop.inpts.keyword.value("CoordinatePointY",wpath=wpath,numeric=T)
}
level <- 1:length(xpoints)
# read point data with specified keyword
point_data <- get.geotop.inpts.keyword.value(keyword="PointOutputFile", wpath=wpath,
raster=FALSE,
data.frame=TRUE,
level=level,
date_field="Date12.DDMMYYYYhhmm.",
tz="Etc/GMT+1")
library(zoo)
dimnames(point_data)
plot(point_data[,"SWup.W.m2."])
plot(point_data[,"LWup.W.m2."])
netrad <- (point_data[,"SWin.W.m2."] + point_data[,"LWuin.W.m2."]) - (point_data[,"SWup.W.m2."] + point_data[,"LWup.W.m2."])
netrad <- (point_data[,"SWin.W.m2."] + point_data[,"LWin.W.m2."]) - (point_data[,"SWup.W.m2."] + point_data[,"LWup.W.m2."])
plot(netrad)
plot(point_data[,"SWup.W.m2."])
plot(point_data[,"LWup.W.m2."])
plot(netrad)
load("~/GitHub/AnalyseGEOtop/data/lookup_tbl_observation.RData")
View(lookup_tbl_observation)
library("AnalyseGeotop", lib.loc="~/R/x86_64-pc-linux-gnu-library/3.2")
library(AnalyseGeotop)
GEOtop_updateLookUpTbl()
remove.packages("AnalyseGeotop", lib="~/R/x86_64-pc-linux-gnu-library/3.2")
load("~/GitHub/AnalyseGEOtop/data/lookup_tbl_observation.RData")
View(lookup_tbl_observation)
plot(netrad)
plot(ppointpoint_data[,"SWin.W.m2."])
plot(point_data[,"SWin.W.m2."])
plot(point_data[,"SWup.W.m2."])
plot(point_data[,"LWin.W.m2."])
plot(point_data[,"LWup.W.m2."])
plot(point_data[,"LWin.W.m2."]-point_data[,"LWup.W.m2."])
plot(point_data[,"SWin.W.m2."]-point_data[,"SWup.W.m2."])
plot(point_data[,"SWin.W.m2."]-point_data[,"SWup.W.m2."]+point_data[,"LWin.W.m2."]-point_data[,"LWup.W.m2."])
wpath <- "/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006"
wpath <- "/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006"
library(AnalyseGeotop)
data(lookup_tbl_observation)
View(lookup_tbl_observation)
GEOtop_updateLookUpTbl()
remove.packages("AnalyseGeotop", lib="~/R/x86_64-pc-linux-gnu-library/3.2")
load("/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006/obs/observation.RData")
dimnames(observation$data30min)
wpath <- "/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006"
source('~/GitHub/AnalyseGEOtop/R/GEOtop_readValidationData.R', echo=TRUE)
load(file.path(wpath, "obs", "observation.RData"))
names(observation) <- c("hour", "day")
obs <- observation
data(lookup_tbl_observation)
if (any(names(obs)=="hour") & any(names(obs)=="day")) Donly <- which(! dimnames(obs$day)[2][[1]] %in% dimnames(obs$hour)[2][[1]]) else Donly <- NULL
if (any(names(obs)=="hour") & any(names(obs)=="day")) Donly <- which(! dimnames(obs$day)[2][[1]] %in% dimnames(obs$hour)[2][[1]]) else Donly <- NULL
# get x- , y-coordinates of output points
if (file.exists(file.path(wpath,"listpoints.txt")))
{
listpoints <- read.csv(file.path(wpath,"listpoints.txt"))
xpoints <- listpoints$xcoord
ypoints <- listpoints$ycoord
} else {
xpoints <- get.geotop.inpts.keyword.value("CoordinatePointX",wpath=wpath,numeric=T)
ypoints <- get.geotop.inpts.keyword.value("CoordinatePointY",wpath=wpath,numeric=T)
}
# read data from point file (preperation)
if (!is.null(Donly)) base <- obs$day else base <- obs$hour
df_names <- as.data.frame(dimnames(base)[2][[1]])
names(df_names) <- "name"
varPointIn <- merge(df_names, lookup_tbl_observation, by.x="name", by.y = "obs_var")
varPointIn_what_direct <- varPointIn$geotop_what[varPointIn$geotop_where=="PointOutputFile"]
varPointIn_name_direct <- varPointIn$name[varPointIn$geotop_where=="PointOutputFile"]
level <- 1:length(xpoints)
# read point data with specified keyword
point_data <- get.geotop.inpts.keyword.value(keyword="PointOutputFile", wpath=wpath,
raster=FALSE,
data.frame=TRUE,
level=level,
date_field="Date12.DDMMYYYYhhmm.",
tz="Etc/GMT+1")
library(geotopbricks)
library(AnalyseGeotop)
if (any(names(obs)=="hour") & any(names(obs)=="day")) Donly <- which(! dimnames(obs$day)[2][[1]] %in% dimnames(obs$hour)[2][[1]]) else Donly <- NULL
# get x- , y-coordinates of output points
if (file.exists(file.path(wpath,"listpoints.txt")))
{
listpoints <- read.csv(file.path(wpath,"listpoints.txt"))
xpoints <- listpoints$xcoord
ypoints <- listpoints$ycoord
} else {
xpoints <- get.geotop.inpts.keyword.value("CoordinatePointX",wpath=wpath,numeric=T)
ypoints <- get.geotop.inpts.keyword.value("CoordinatePointY",wpath=wpath,numeric=T)
}
# read data from point file (preperation)
if (!is.null(Donly)) base <- obs$day else base <- obs$hour
df_names <- as.data.frame(dimnames(base)[2][[1]])
names(df_names) <- "name"
varPointIn <- merge(df_names, lookup_tbl_observation, by.x="name", by.y = "obs_var")
varPointIn_what_direct <- varPointIn$geotop_what[varPointIn$geotop_where=="PointOutputFile"]
varPointIn_name_direct <- varPointIn$name[varPointIn$geotop_where=="PointOutputFile"]
level <- 1:length(xpoints)
# read point data with specified keyword
point_data <- get.geotop.inpts.keyword.value(keyword="PointOutputFile", wpath=wpath,
raster=FALSE,
data.frame=TRUE,
level=level,
date_field="Date12.DDMMYYYYhhmm.",
tz="Etc/GMT+1")
var_out <- list()
for (i in 1:length(varPointIn_what_direct))
{
name <- as.character(varPointIn_name_direct)[i]
var <- as.character(varPointIn_what_direct)[i]
i_split <- strsplit(as.character(var),"%")
if (length(i_split[[1]])==1) {
var_out[[name]] <- point_data[,var]
} else {
if (i_split[[1]][3]=="plus") {
var_out[[ i_split[[1]][1] ]] <- point_data[ ,i_split[[1]][1] ]
var_out[[ i_split[[1]][2] ]] <- point_data[ ,i_split[[1]][2] ]
var_out[[name]] <- point_data[ ,i_split[[1]][1] ] + point_data[ ,i_split[[1]][2] ]
} else {
var_out[[ i_split[[1]][1] ]] <- point_data[ ,i_split[[1]][1] ]
var_out[[ i_split[[1]][2] ]] <- point_data[ ,i_split[[1]][2] ]
var_out[[name]] <- point_data[ ,i_split[[1]][1] ] - point_data[ ,i_split[[1]][2] ]
}
}
}
i
varPointIn_what_direct[3]
GEOtop_updateLookUpTbl()
remove.packages("AnalyseGeotop", lib="~/R/x86_64-pc-linux-gnu-library/3.2")
wpath <- "/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006"
library(AnalyseGeotop)
library(zoo)
if (file.exists(file.path(wpath,"listpoints.txt")))
{
listpoints <- read.csv(file.path(wpath,"listpoints.txt"))
xpoints <- listpoints$xcoord
ypoints <- listpoints$ycoord
} else {
xpoints <- get.geotop.inpts.keyword.value("CoordinatePointX",wpath=wpath,numeric=T)
ypoints <- get.geotop.inpts.keyword.value("CoordinatePointY",wpath=wpath,numeric=T)
}
level <- 1:length(xpoints)
# read point data with specified keyword
point_data <- get.geotop.inpts.keyword.value(keyword="PointOutputFile", wpath=wpath,
raster=FALSE,
data.frame=TRUE,
level=level,
date_field="Date12.DDMMYYYYhhmm.",
tz="Etc/GMT+1")
library(geotopbricks)
level <- 1:length(xpoints)
# read point data with specified keyword
point_data <- get.geotop.inpts.keyword.value(keyword="PointOutputFile", wpath=wpath,
raster=FALSE,
data.frame=TRUE,
level=level,
date_field="Date12.DDMMYYYYhhmm.",
tz="Etc/GMT+1")
dimnames(point_data)
plot(point_data[,"SWv.W.m2."])
plot(point_data[,"SWin.W.m2."])
plot(point_data[,"LWv.W.m2."])
plot(point_data[,"LWin.W.m2."])
plot(point_data[,"SWin.W.m2."]-point_data[,"SWv.W.m2."])
plot(point_data[,c(15,17,18)], screens=c(1,1,1), col=1:3)
library(dygraphs)
dygraph(point_data[,c(15,17,18)]) >%> dyRangeSelector()
dygraph(point_data[,c(15,17,18)]) >%>
dyRangeSelector()
dygraph(point_data[,c(15,17,18)]) >%>
dyRangeSelector()
dygraph(data = point_data[,c(15,17,18)])
dygraph(data = point_data[,c(15,17,18)]) >%>
dyRangeSelector()
dygraph(data = point_data[,c(15,17,18)]) %>%
dyRangeSelector()
dygraph(data = point_data[,c(15,17,18,19)]) %>%
dyRangeSelector()
View(lookup_tbl_observation)
library(AnalyseGeotop)
GEOtop_updateLookUpTbl()
load("~/GitHub/AnalyseGEOtop/data/lookup_tbl_observation.RData")
View(lookup_tbl_observation)
GEOtop_updateLookUpTbl()
load("~/GitHub/AnalyseGEOtop/data/lookup_tbl_observation.RData")
View(lookup_tbl_observation)
wpath <- "/run/user/1000/gvfs/smb-share:server=sdcalp01.eurac.edu,share=data2/Simulations/Simulation_GEOtop_1_225_ZH/Vinschgau/SimTraining/BrJ/MonaLisa/1D/Kaltern/sim006"
if (file.exists(file.path(wpath,"listpoints.txt")))
{
listpoints <- read.csv(file.path(wpath,"listpoints.txt"))
xpoints <- listpoints$xcoord
ypoints <- listpoints$ycoord
} else {
xpoints <- get.geotop.inpts.keyword.value("CoordinatePointX",wpath=wpath,numeric=T)
ypoints <- get.geotop.inpts.keyword.value("CoordinatePointY",wpath=wpath,numeric=T)
}
level <- 1:length(xpoints)
# read point data with specified keyword
point_data <- get.geotop.inpts.keyword.value(keyword="PointOutputFile", wpath=wpath,
raster=FALSE,
data.frame=TRUE,
level=level,
date_field="Date12.DDMMYYYYhhmm.",
tz="Etc/GMT+1")
library(geotopbricks)
if (file.exists(file.path(wpath,"listpoints.txt")))
{
listpoints <- read.csv(file.path(wpath,"listpoints.txt"))
xpoints <- listpoints$xcoord
ypoints <- listpoints$ycoord
} else {
xpoints <- get.geotop.inpts.keyword.value("CoordinatePointX",wpath=wpath,numeric=T)
ypoints <- get.geotop.inpts.keyword.value("CoordinatePointY",wpath=wpath,numeric=T)
}
level <- 1:length(xpoints)
# read point data with specified keyword
point_data <- get.geotop.inpts.keyword.value(keyword="PointOutputFile", wpath=wpath,
raster=FALSE,
data.frame=TRUE,
level=level,
date_field="Date12.DDMMYYYYhhmm.",
tz="Etc/GMT+1")
dt <- as.data.table(point_data)
library(data.table)
dt <- as.data.table(point_data)
dimnames(point_data)
remove.packages("AnalyseGeotop", lib="~/R/x86_64-pc-linux-gnu-library/3.2")
remove.packages("AnalyseGeotop", lib="~/R/x86_64-pc-linux-gnu-library/3.2")
library(d3heatmap)
?d3heatmap
